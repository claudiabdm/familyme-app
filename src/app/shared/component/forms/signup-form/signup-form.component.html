<ngx-spinner size="medium"></ngx-spinner>
<form [formGroup]="signupForm" class="form form--signup" (ngSubmit)="onSubmit(signupForm)">

  <!-- Email -->
  <div class="form__group">
    <label for="email" class="form__label">Email</label>
    <input type="email" id="email" class="form__control" placeholder="john_smith@gmail.com" aria-required="true"
      autocomplete="off" required formControlName="email"
      [class.form__control--invalid]="signupForm.controls.email.dirty && signupForm.controls.email.invalid">
    <div class="form__msg-group" *ngIf="authService.invalidUser || (signupForm.controls.email.dirty && signupForm.controls.email.invalid)">
      <div *ngIf="authService.invalidUser">
        Email already in use
      </div>
      <div *ngIf="signupForm.controls.email.dirty && signupForm.controls.email.invalid">
        Incorrect email
      </div>
    </div>
  </div>
  <!-- //Email -->

  <!-- Name -->
  <div class="form__group">
    <label for="name" class="form__label">First name</label>
    <input type="text" id="name" class="form__control" placeholder="John" aria-required="true" required
      formControlName="name"
      [class.form__control--invalid]="signupForm.controls.name.dirty && signupForm.controls.name.invalid">
    <div class="form__msg-group" *ngIf="signupForm.controls.name.dirty && signupForm.controls.name.invalid">
      Required field
    </div>
  </div>
  <!-- //Name -->

  <!-- Family field -->
  <div class="form__group">
    <label for="group" class="form__label">Family {{ singUpType.label }}</label>
    <input type="text" id="group" class="form__control" [placeholder]="singUpType.placeholder" aria-required="true"
      autocomplete="off" required formControlName="group"
      [class.form__control--invalid]="signupForm.controls.group.dirty && signupForm.controls.group.invalid">
      <div class="form__msg-group" *ngIf="authService.invalidGroup || (signupForm.controls.group.dirty && signupForm.controls.group.invalid)">
        <div *ngIf="authService.invalidGroup">
          Family code not found
        </div>
        <div *ngIf="signupForm.controls.group.dirty && signupForm.controls.group.invalid">
          Required field
        </div>
      </div>
  </div>
  <!-- //Family field -->

  <!-- Password -->
  <div class="form__group">
    <label for="new-password" class="form__label">Password</label>
    <div class="form__icon">
      <input id="new-password" name="new-password" class="form__control form__control-pswd" aria-required="true"
        autocomplete="off" required [type]="type" formControlName="password"
        [class.form__control--invalid]="signupForm.controls.password.dirty && signupForm.controls.password.invalid">
      <i class="icon icon--pswd icon--sm" data-toggle="eye" [class.icon-red_eye]="isVisible"
        [class.icon-red_eye_close]="!isVisible" (click)=showPswd()></i>
    </div>
    <div
      *ngIf="signupForm.controls.password.dirty && signupForm.controls.password.invalid && !signupForm.controls.password.errors?.validPassword"
      class="form__msg-group">
      8+ characters and at least one lower case, one upper case and one number.
    </div>
  </div>
  <!-- //Password -->

  <!-- Confirm password -->
  <div class="form__group">
    <label for="confirm-password" class="form__label">Confirm password</label>
    <div class="form__icon">
      <input id="confirm-password" name="confirm-password" class="form__control form__control-pswd" aria-required="true"
        autocomplete="off" required [type]="type" formControlName="passwordConfirm"
        [class.form__control--invalid]="signupForm.controls.passwordConfirm.dirty && signupForm.controls.passwordConfirm.invalid">
      <i class="icon icon--pswd icon--sm" data-toggle="eye" [class.icon-red_eye]="isVisible"
        [class.icon-red_eye_close]="!isVisible" (click)=showPswd()></i>
    </div>
    <div
      *ngIf="signupForm.controls.passwordConfirm.dirty && signupForm.controls.passwordConfirm.errors?.passwordMismatch"
      class="form__msg-group">
      Passwords do not match.
    </div>
  </div>
  <!-- //Confirm password -->

  <!-- FORM ACTIONS -->
  <div class="form__actions">
    <button type="submit" class="btn btn--signup" aria-disabled="true" [disabled]="!signupForm.valid">Sign up</button>
  </div>
  <!-- //FORM ACTIONS -->

</form>
<!-- //FORM -->
